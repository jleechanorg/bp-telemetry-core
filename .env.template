# Copyright Â© 2025 Sierra Labs LLC
# SPDX-License-Identifier: AGPL-3.0-only
# License-Filename: LICENSE

# Blueplane Telemetry Core - Environment Variables Template
#
# Copy this file to .env and customize for your environment.
# The .env file is gitignored to protect sensitive values.
#
# Usage:
#   cp .env.template .env
#   # Edit .env with your values
#   source .env  # or use direnv, docker-compose, etc.
#
# Documentation: docs/ENVIRONMENT_VARIABLES.md

# =============================================================================
# CONFIGURATION
# =============================================================================

# Configuration file path (directory or specific file)
# Default: Searches ~/.blueplane, ./config, /etc/blueplane
# BP_CONFIG_PATH=/path/to/config

# Configuration mode (main or debug)
# Default: main
# BP_CONFIG_MODE=main

# =============================================================================
# PATHS AND DIRECTORIES
# =============================================================================

# Data storage directory (SQLite DB, logs, cache)
# Default: ~/.blueplane
# BP_DATA_DIR=~/.blueplane
# BLUEPLANE_DATA_DIR=~/.blueplane  # Alternative name

# Workspace root directory for code monitoring
# Default: ~/Dev
# WORKSPACE_DIR=~/Dev
# WORKSPACE_ROOT=~/Dev  # Alternative name

# Claude Code projects directory
# Default: ~/.claude/projects
# CLAUDE_PROJECTS_DIR=~/.claude/projects

# Cursor application data directory (macOS)
# Default: ~/Library/Application Support/Cursor
# CURSOR_DATA_DIR=~/Library/Application Support/Cursor

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis server hostname
# Default: localhost
# REDIS_HOST=localhost

# Redis server port
# Default: 6379
# REDIS_PORT=6379

# Redis database number
# Default: 0
# REDIS_DB=0

# Redis password (if required)
# Default: none
# REDIS_PASSWORD=

# Redis connection timeout (seconds)
# Default: 5.0
# REDIS_TIMEOUT=5.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# SQLite database file path
# Default: ~/.blueplane/telemetry.db
# SQLITE_PATH=~/.blueplane/telemetry.db
# BP_DATABASE_PATH=~/.blueplane/telemetry.db  # Alternative name

# SQLite busy timeout (milliseconds)
# Default: 5000
# SQLITE_BUSY_TIMEOUT=5000

# Enable database compression
# Default: true
# BP_DB_COMPRESSION=true

# Compression level (1-9, higher = better compression but slower)
# Default: 6
# BP_DB_COMPRESSION_LEVEL=6

# =============================================================================
# LOGGING
# =============================================================================

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# Default: INFO
# LOG_LEVEL=INFO
# BP_LOG_LEVEL=INFO  # Alternative name

# Logging format (json or text)
# Default: json
# BP_LOG_FORMAT=json

# Log file path
# Default: ~/.blueplane/logs/blueplane.log
# BP_LOG_FILE=~/.blueplane/logs/blueplane.log

# Enable console logging
# Default: true
# BP_LOG_CONSOLE=true

# =============================================================================
# PROCESSING PIPELINE
# =============================================================================

# Enable fast path processing
# Default: true
# BP_FAST_PATH_ENABLED=true

# Fast path batch size
# Default: 100
# BP_FAST_PATH_BATCH_SIZE=100

# Enable slow path processing
# Default: true
# BP_SLOW_PATH_ENABLED=true

# Number of metrics workers
# Default: 2
# BP_METRICS_WORKERS=2

# Number of conversation workers
# Default: 2
# BP_CONVERSATION_WORKERS=2

# =============================================================================
# PLATFORM SUPPORT
# =============================================================================

# Enable Claude Code support
# Default: true
# BP_CLAUDE_SUPPORT=true

# Enable Cursor support
# Default: true
# BP_CURSOR_SUPPORT=true

# Claude transcript monitor poll interval (seconds)
# Default: 5
# BP_CLAUDE_POLL_INTERVAL=5

# Cursor database monitor poll interval (seconds)
# Default: 30
# BP_CURSOR_POLL_INTERVAL=30

# =============================================================================
# PRIVACY SETTINGS
# =============================================================================

# Privacy mode (strict, balanced, development)
# Default: strict
# BP_PRIVACY_MODE=strict

# Hash file paths instead of storing them
# Default: true
# BP_HASH_FILE_PATHS=true

# Hash workspace names
# Default: true
# BP_HASH_WORKSPACE=true

# =============================================================================
# MONITORING AND HEALTH
# =============================================================================

# Enable health checks
# Default: true
# BP_HEALTH_CHECKS_ENABLED=true

# Health check interval (seconds)
# Default: 60
# BP_HEALTH_CHECK_INTERVAL=60

# Queue depth warning threshold
# Default: 5000
# BP_QUEUE_WARNING_THRESHOLD=5000

# Queue depth critical threshold
# Default: 8000
# BP_QUEUE_CRITICAL_THRESHOLD=8000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable metrics derivation
# Default: true
# BP_METRICS_ENABLED=true

# Enable conversation reconstruction
# Default: true
# BP_CONVERSATIONS_ENABLED=true

# Enable AI insights (experimental)
# Default: false
# BP_AI_INSIGHTS_ENABLED=false

# Enable CLI interface
# Default: true
# BP_CLI_ENABLED=true

# =============================================================================
# DEVELOPMENT AND DEBUGGING
# =============================================================================

# Enable debug mode
# Default: false
# BP_DEBUG=false

# Enable verbose logging
# Default: false
# BP_VERBOSE=false

# Enable profiling
# Default: false
# BP_PROFILE=false

# Enable test mode
# Default: false
# BP_TEST_MODE=false

# Dump events to disk for debugging
# Default: false
# BP_DUMP_EVENTS=false

# Event dump directory
# Default: ~/.blueplane/debug/events
# BP_EVENT_DUMP_DIR=~/.blueplane/debug/events

# =============================================================================
# PYTHON SETTINGS
# =============================================================================

# Python unbuffered output (recommended for Docker)
# Default: 1
# PYTHONUNBUFFERED=1

# Don't write bytecode files
# Default: 0
# PYTHONDONTWRITEBYTECODE=0

# Python optimization level (0, 1, 2)
# Default: 0
# PYTHONOPTIMIZE=0

# =============================================================================
# DOCKER-SPECIFIC
# =============================================================================

# These are typically set by docker-compose.yml, but can be overridden

# Container data directory
# BLUEPLANE_DATA_DIR=/data/blueplane

# Container capture directories
# CLAUDE_PROJECTS_DIR=/capture/claude/projects
# CURSOR_DATA_DIR=/capture/cursor

# Container workspace directory
# WORKSPACE_ROOT=/workspace

# =============================================================================
# ADVANCED SETTINGS
# =============================================================================

# Maximum queue size
# Default: 10000
# BP_MAX_QUEUE_SIZE=10000

# Batch timeout (milliseconds)
# Default: 100
# BP_BATCH_TIMEOUT_MS=100

# Worker retry timeout (milliseconds)
# Default: 300000 (5 minutes)
# BP_RETRY_TIMEOUT_MS=300000

# Data retention days
# Default: 90
# BP_RETENTION_DAYS=90

# Enable auto-archival
# Default: true
# BP_AUTO_ARCHIVE=true

# Archive format (parquet)
# Default: parquet
# BP_ARCHIVE_FORMAT=parquet
